<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CHC抽獎趣</title>
    <link rel="icon" href="./images/chcico32_32.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./css/v_style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <!-- <script src="./js/actscript.js"></script> -->
  </head>
  <body>
    <div class="title-text">
      <img src="./images/抽獎.png" />
    </div>
    <div class="flower-left"></div>
    <div class="flower-right"></div>
    <div class="comp-title" id="comp">
      <a href="https://www.chcgroup.com.tw/" target="_blank"
        ><img src="./images/merge_s.png" class="logo"
      /></a>
    </div>
    <div class="choosecard">
      <!-- <div class="start-text">
        <p id="click-to-start">輕觸螢幕開始</p>
      </div> -->
      <!-- <img src="./images/envelop.png" alt=""> -->
      <p class="gift pick-gift">🎁</p>
      <!-- <img src="./images/gift1.png" alt="" id="gift1" class="g1" /> -->
      <div class="xk">
        <img src="./images/gift2_1.png" alt="" id="gift2" class="g2" />
        <img src="./images/gift3_1.png" alt="" id="gift3" class="g3" />
        <img src="./images/gift4_1.png" alt="" id="gift4" class="g4" />
        <img src="./images/gift5.png" alt="" id="gift5" class="g5" />
        <img src="./images/gift6.png" alt="" id="gift6" class="g6" />
        <img src="./images/gift7.png" alt="" id="gift7" class="g7" />
        <img src="./images/gift8.png" alt="" id="gift8" class="g8" />
        <img src="./images/gift9.png" alt="" id="gift9" class="g9" />
        <br />
        <p class="gift-name"></p>
      </div>
      <div class="hint-text">
        <p id="click-to-show" class="gift-hint">點選打開禮物!</p>
        <!-- <p class="hire-me"><a href="https://www.104.com.tw/company/5gonzzc?jobsource=index_s_ac" target="_blank">加入我們!</a></p> -->
      </div>
    </div>
    <div class="gift-show"></div>
    <div class="brand">
      <img src="./images/OUR BRAND.png" />
    </div>
    <div class="snake-left">
      <img src="./images/風獅爺1.png" />
    </div>
    <div class="snake-right">
      <img src="./images/風獅爺2.png" />
    </div>
  </body>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.1.0/typed.umd.js"
    integrity="sha512-+2pW8xXU/rNr7VS+H62aqapfRpqFwnSQh9ap6THjsm41AxgA0MhFRtfrABS+Lx2KHJn82UOrnBKhjZOXpom2LQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>
  <script>
    var prizes = [
      // { name: "大自然使者收納袋 (環保袋)", probability: 10 }, // g1
      { name: "70週年紀念帆布袋", probability: 10 }, // g2
      { name: "嘉新幸運籤餅", probability: 10 }, // g3
      { name: "嘉新想蛇麼有蛇麼紅包袋", probability: 10 }, // g4
      { name: "嘉新口罩", probability: 10 }, // g5
      { name: "生活智慧大手冊 (側開式)", probability: 10 }, // g6
      { name: "生活美學小筆記 (上開式)", probability: 10 }, // g7
      { name: "生活品味墨寶 (筆)", probability: 20 }, // g8
      { name: "追求生活美好大禮包", probability: 20 }, // g9
    ];

    $(".hire-me").hide();
    $(".gift-name").hide();
    $(".xk").hide();
    $(".g1").hide();
    $(".g2").hide();
    $(".g3").hide();
    $(".g4").hide();
    $(".g5").hide();
    $(".g6").hide();
    $(".g7").hide();
    $(".g8").hide();
    $(".g9").hide();

    const object = document.getElementById("comp");

    $(".pick-gift").on("click", function () {
      $(".title-text").hide();
      $(".gift-hint").hide();
      $(".pick-gift").hide();
      object.style.top = "18%";

      if (localStorage.getItem("giftname") == null) {
        var rand = Math.random() * 100;
        var sum = 0;
        var prize;

        for (var i = 0; i < prizes.length; i++) {
          sum += prizes[i].probability;
          if (rand <= sum) {
            prize = prizes[i].name;
            break;
          }
        }

        localStorage.setItem("giftname", prize);

        setTimeout(function () {
          $(".xk").show();
          $(".hire-me").show();
          typed = new Typed(".gift-name", {
            strings: [
              "\\" + prize + "/",
              "<a href='https://www.instagram.com/chcgroup_career.tw?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==' target='_blank'><i class='ig-color fa-brands fa-instagram fa-lg fa-beat' style='color: #fd3535;'></i></a> 追蹤我們的IG!",
              "<a href='https://line.me/R/ti/p/@352lxrhh' target='_blank'><i class='fa-brands fa-line fa-lg fa-beat' style='color: #13e736;'></i></a> 加入我們的LINE@!",
            ],
            typeSpeed: 80,
            backSpeed: 50,
            backDelay: 2000,
            startDelay: 100,
            fadeOut: false,
            cursorChar: "可前往櫃台領取小禮物!",
            loop: true,
          });
          $(".gift-name").show();

          switch (prize) {
            case "大自然使者收納袋 (環保袋)":
              $(".g1").show();
              break;
            case "70週年紀念帆布袋":
              $(".g2").show();
              break;
            case "嘉新幸運籤餅":
              $(".g3").show();
              break;
            case "嘉新想蛇麼有蛇麼紅包袋":
              $(".g4").show();
              break;
            case "嘉新口罩":
              $(".g5").show();
              break;
            case "生活智慧大手冊 (側開式)":
              $(".g6").show();
              break;
            case "生活美學小筆記 (上開式)":
              $(".g7").show();
              break;
            case "生活品味墨寶 (筆)":
              $(".g8").show();
              break;
            case "追求生活美好大禮包":
              $(".g9").show();
              break;
          }
        }, 1200);
      } else {
        var prize = localStorage.getItem("giftname");
        setTimeout(function () {
          $(".xk").show();
          $(".hire-me").show();
          typed = new Typed(".gift-name", {
            strings: [
              "\\" + prize + "/",
              "<a href='https://www.instagram.com/chcgroup_career.tw?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==' target='_blank'><i class='ig-color fa-brands fa-instagram fa-lg fa-beat' style='color: #fd3535;'></i></a> 追蹤我們的IG!",
              "<a href='https://line.me/R/ti/p/@352lxrhh' target='_blank'><i class='fa-brands fa-line fa-lg fa-beat' style='color: #13e736;'></i></a> 加入我們的LINE@!",
            ],
            typeSpeed: 80,
            backSpeed: 50,
            backDelay: 2000,
            startDelay: 100,
            fadeOut: false,
            cursorChar: "可前往櫃台領取小禮物!",
            loop: true,
          });
          $(".gift-name").show();

          switch (prize) {
            case "大自然使者收納袋 (環保袋)":
              $(".g1").show();
              break;
            case "70週年紀念帆布袋":
              $(".g2").show();
              break;
            case "嘉新幸運籤餅":
              $(".g3").show();
              break;
            case "嘉新想蛇麼有蛇麼紅包袋":
              $(".g4").show();
              break;
            case "嘉新口罩":
              $(".g5").show();
              break;
            case "生活智慧大手冊 (側開式)":
              $(".g6").show();
              break;
            case "生活美學小筆記 (上開式)":
              $(".g7").show();
              break;
            case "生活品味墨寶 (筆)":
              $(".g8").show();
              break;
            case "追求生活美好大禮包":
              $(".g9").show();
              break;
          }
        }, 1200);
      }
    });

    function simulateDraw() {
      var prizes = [
        // { name: "大自然使者收納袋 (環保袋)", probability: 10, count: 0 }, // g1
        { name: "70週年紀念帆布袋", probability: 10, count: 0 }, // g2
        { name: "嘉新幸運籤餅", probability: 10, count: 0 }, // g3
        { name: "嘉新想蛇麼有蛇麼紅包袋", probability: 10, count: 0 }, // g4
        { name: "嘉新口罩", probability: 10, count: 0 }, // g5
        { name: "生活智慧大手冊 (側開式)", probability: 10, count: 0 }, // g6
        { name: "生活美學小筆記 (上開式)", probability: 10, count: 0 }, // g7
        { name: "生活品味墨寶 (筆)", probability: 10, count: 0 }, // g8
        { name: "追求生活美好大禮包", probability: 20, count: 0 }, // g9
      ];

      var totalSimulations = 10000;

      for (var i = 0; i < totalSimulations; i++) {
        var rand = Math.random() * 100;
        var sum = 0;
        for (var j = 0; j < prizes.length; j++) {
          sum += prizes[j].probability;
          if (rand <= sum) {
            prizes[j].count++;
            break;
          }
        }
      }

      console.log("Simulation results over " + totalSimulations + " draws:");
      prizes.forEach(function (prize) {
        console.log(
          prize.name +
            ": " +
            prize.count +
            " (" +
            ((prize.count / totalSimulations) * 100).toFixed(2) +
            "%)"
        );
      });
    }
  </script>
</html>
